(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{303:function(t,e,a){"use strict";a.r(e);var i=a(1),s=Object(i.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("记录在NexT主题中添加gitalk评论系统的步骤。\n"),t._v("\ngitalk：一个基于 Github Issue 和 Preact 开发的评论插件\n详情Demo可见：https://gitalk.github.io/")]),t._v(" "),a("h1",{attrs:{id:"register-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#register-application"}},[t._v("#")]),t._v(" Register Application")]),t._v(" "),a("p",[t._v("在GitHub上注册新应用，链接：https://github.com/settings/applications/new\n"),a("a",{attrs:{href:"https://imgchr.com/i/p22o24",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s1.ax1x.com/2018/01/20/p22o24.md.png",alt:"app"}}),a("OutboundLink")],1),t._v("\n参数说明："),a("br"),t._v("\nApplication name：   # 应用名称，随意"),a("br"),t._v("\nHomepage URL：       # 网站URL，如"),a("code",[t._v("https://asdfv1929.github.io")]),a("br"),t._v("\nApplication description     # 描述，随意"),a("br"),t._v("\nAuthorization callback URL：# 网站URL，"),a("code",[t._v("https://asdfv1929.github.io")])]),t._v(" "),a("p",[t._v("点击注册后，页面跳转如下，其中"),a("code",[t._v("Client ID")]),t._v("和"),a("code",[t._v("Client Secret")]),t._v("在后面的配置中需要用到，到时复制粘贴即可：\n"),a("a",{attrs:{href:"https://imgchr.com/i/p25Ubj",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s1.ax1x.com/2018/01/20/p25Ubj.md.png",alt:"client"}}),a("OutboundLink")],1)]),t._v(" "),a("h1",{attrs:{id:"gitalk-swig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitalk-swig"}},[t._v("#")]),t._v(" gitalk.swig")]),t._v(" "),a("p",[t._v("新建"),a("code",[t._v("/layout/_third-party/comments/gitalk.swig")]),t._v("文件，并添加内容：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{% if page.comments && theme.gitalk.enable %}\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\">\n\n  <script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"><\/script>\n   <script type=\"text/javascript\">\n        var gitalk = new Gitalk({\n          clientID: '{{ theme.gitalk.ClientID }}',\n          clientSecret: '{{ theme.gitalk.ClientSecret }}',\n          repo: '{{ theme.gitalk.repo }}',\n          owner: '{{ theme.gitalk.githubID }}',\n          admin: ['{{ theme.gitalk.adminUser }}'],\n          id: location.pathname,\n          distractionFreeMode: '{{ theme.gitalk.distractionFreeMode }}'\n        })\n        gitalk.render('gitalk-container')           \n       <\/script>\n{% endif %}\n")])])]),a("h1",{attrs:{id:"comments-swig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comments-swig"}},[t._v("#")]),t._v(" comments.swig")]),t._v(" "),a("p",[t._v("修改"),a("code",[t._v("/layout/_partials/comments.swig")]),t._v("，添加内容如下，与前面的"),a("code",[t._v("elseif")]),t._v("同一级别上：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{% elseif theme.gitalk.enable %}\n <div id="gitalk-container"></div>\n')])])]),a("h1",{attrs:{id:"index-swig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#index-swig"}},[t._v("#")]),t._v(" index.swig")]),t._v(" "),a("p",[t._v("修改"),a("code",[t._v("layout/_third-party/comments/index.swig")]),t._v("，在最后一行添加内容：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{% include 'gitalk.swig' %}\n")])])]),a("h1",{attrs:{id:"gitalk-styl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitalk-styl"}},[t._v("#")]),t._v(" gitalk.styl")]),t._v(" "),a("p",[t._v("新建"),a("code",[t._v("/source/css/_common/components/third-party/gitalk.styl")]),t._v("文件，添加内容：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".gt-header a, .gt-comments a, .gt-popup a\n  border-bottom: none;\n.gt-container .gt-popup .gt-action.is--active:before\n  top: 0.7em;\n")])])]),a("h1",{attrs:{id:"third-party-styl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#third-party-styl"}},[t._v("#")]),t._v(" third-party.styl")]),t._v(" "),a("p",[t._v("修改"),a("code",[t._v("/source/css/_common/components/third-party/third-party.styl")]),t._v("，在最后一行上添加内容，引入样式：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('@import "gitalk";\n')])])]),a("h1",{attrs:{id:"config-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-yml"}},[t._v("#")]),t._v(" _config.yml")]),t._v(" "),a("p",[t._v("在主题配置文件"),a("code",[t._v("next/_config.yml")]),t._v("中添加如下内容：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("gitalk:\n  enable: true\n  githubID: github帐号  # 例：asdfv1929   \n  repo: 仓库名称   # 例：asdfv1929.github.io\n  ClientID: Client ID\n  ClientSecret: Client Secret\n  adminUser: github帐号 #指定可初始化评论账户\n  distractionFreeMode: true\n")])])]),a("p",[t._v("以上就是NexT中添加gitalk评论的配置，博客上传到GitHub上后，打开页面进入某一博客内容下，就可看到评论处。")]),t._v(" "),a("p",[t._v("部分问题解决方法，可参见：\nhttps://liujunzhou.top/2018/8/10/gitalk-error/")])])}),[],!1,null,null,null);e.default=s.exports}}]);